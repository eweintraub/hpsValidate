var _this=this,Config=function(){function a(){}return a.ver=function(){console.log(this.version)},a}();Config.version="0.0.1";var ValidatorConfig=function(){function a(a){this.textValidation={checking:{class:"valid-checking",function:""},success:{class:"valid-success",function:""},failed:{class:"valid-failed",function:""},empty:{class:"valid-empty",function:""},matchPattern:/[0-9A-Za-z]{1,}/},this.emailValidation={checking:{class:"valid-checking",function:""},success:{class:"valid-success",function:""},failed:{class:"valid-failed",function:""},empty:{class:"valid-empty",function:""},matchPattern:/([a-zA-Z0-9_\-\.]*)@([a-zA-Z0-9_\-]+)\.([a-zA-Z]{2,5})$/},this.ssnValidation={checking:{class:"valid-checking",function:""},success:{class:"valid-success",function:""},failed:{class:"valid-failed",function:""},empty:{class:"valid-empty",function:""},matchPattern:/([0-9]{9,9})/},this.phoneValidation={checking:{class:"valid-checking",function:""},success:{class:"valid-success",function:""},failed:{class:"valid-failed",function:""},empty:{class:"valid-empty",function:""},matchPattern:/([0-9]{10,10})/},this.dateValidation={checking:{class:"valid-checking",function:""},success:{class:"valid-success",function:""},failed:{class:"valid-failed",function:""},empty:{class:"valid-empty",function:""},matchPattern:/([0-9]{2,2})\/([0-9]{2,2})\/([0-9]{4,4})/},this.checkboxValidation={checking:{class:"valid-checking",function:""},success:{class:"valid-success",function:""},failed:{class:"valid-failed",function:""},empty:{class:"valid-empty",function:""},minCount:1}}return a}(),validate=function(a){var b=new ValidatorConfig({}),d=(new Validator(b.textValidation),document.querySelectorAll("[data-validate]"));b.count=d.length;for(var e=0;e<d.length;++e){var f=d[e];switch(f.getAttribute("data-validate-type")){case"text":var g=new Validator(b.textValidation);g.load(f);break;case"email":var g=new Validator(b.emailValidation);g.load(f);break;case"ssn":var h=checkForOneOrMultipleFields(f,f.getAttribute("data-validate-type")),g=new Validator(b.ssnValidation);g.load(f,h);break;case"phone":var i=checkForOneOrMultipleFields(f,f.getAttribute("data-validate-type")),g=new Validator(b.phoneValidation);g.load(f,i);break;case"date":var j=checkForOneOrMultipleFields(f,f.getAttribute("data-validate-type")),g=new Validator(b.dateValidation);g.load(f,j);break;case"checkbox":new CheckBoxValidator(f,b.checkboxValidation)}}},Validator=function(){function a(a){var b=this;this.load=function(a,c){var d=b;checkForAllValidated(),b.element=a,c&&(b.altElement=c),a.addEventListener("keyup",function(){d.validate()}),a.addEventListener("input",function(){d.validate()}),b.rules.keyUp&&a.addEventListener("keyup",function(){d.rules.keyUp(a)})},this.validate=function(){var a=new RegExp(b.rules.matchPattern),c=b.altElement||b.element;c.parentNode.classList.add(b.rules.checking.class),""==c.value?b.empty():""!=c.value&&a.test(c.value)?b.success():b.fail()},this.empty=function(){var a=b.altElement||b.element;UpdateFieldValidationStatus(a,b.rules,!0,!1,!1)},this.success=function(){var a=b,c=b.altElement||b.element;UpdateFieldValidationStatus(c,b.rules,!1,!0,!1),b.element.addEventListener("blur",function(){a.clear()})},this.fail=function(){var a=b.altElement||b.element;UpdateFieldValidationStatus(a,b.rules,!1,!1,!0)},this.clear=function(){b.element.parentNode.classList.remove(b.rules.success.class),b.altElement&&b.altElement.parentNode.classList.remove(b.rules.success.class)},this.rules=a}return a}(),CheckBoxValidator=function(){function a(a,b){var c=this;this._getElements=function(){for(var a=c,b=c._container.querySelectorAll("[type=checkbox]"),d=0;d<b.length;++d)b[d].addEventListener("change",function(){a._checkIfAnySelected()})},this._checkIfAnySelected=function(){for(var a=!1,b=c._container.querySelectorAll("[type=checkbox]"),d=0;d<b.length;++d)if(b[d].checked)return a=!0,void c.success();console.log(a),c.fail()},this.empty=function(){c._container.parentNode.classList.remove(c._rules.checking.class),c._container.parentNode.classList.remove(c._rules.success.class),c._container.parentNode.classList.remove(c._rules.failed.class),c._container.parentNode.classList.add(c._rules.empty.class),c._container.classList.remove("validated")},this.success=function(){c._container.parentNode.classList.remove(c._rules.empty.class),c._container.parentNode.classList.remove(c._rules.checking.class),c._container.parentNode.classList.remove(c._rules.failed.class),c._container.parentNode.classList.add(c._rules.success.class),c._container.classList.add("validated"),checkForAllValidated(),document.addEventListener("click",c.clear)},this.fail=function(){c._container.parentNode.classList.remove(c._rules.empty.class),c._container.parentNode.classList.remove(c._rules.checking.class),c._container.parentNode.classList.remove(c._rules.success.class),c._container.parentNode.classList.add(c._rules.failed.class),c._container.classList.remove("validated"),checkForAllValidated()},this.clear=function(){for(var a=event.target,b=[];a;)b.unshift(a),a=a.parentNode;console.log(b),b.indexOf(c._container)<0&&c._container.parentNode.classList.remove(c._rules.success.class)},this._rules=b,this._container=a,this._getElements()}return a}(),checkForOneOrMultipleFields=function(a,b){var c=a.parentNode,d=c.querySelectorAll("[data-validate]"),e=c.querySelectorAll("[data-validate]").length;if(e>1){var f=document.createElement("input");f.setAttribute("data-validate-type","ssn"),f.setAttribute("data-validate","data-validate"),f.style.display="none";d[e-1].parentNode.appendChild(f);for(var h=0;h<e;++h)d[h].removeAttribute("data-validate"),d[h].addEventListener("keyup",function(){concatinateInHiddenField(d,f)});return f}return!1},concatinateInHiddenField=function(a,b){for(var c="",d=0;d<a.length;++d)c+=a[d].value;b.value=c},checkForAllValidated=function(){for(var a=document.querySelectorAll("[data-validate]"),b=!0,c=0;c<a.length;++c)a[c].classList.contains("validated")||(b=!1);b?_this.enableSubmit():_this.disableSubmit()},disableSubmit=function(){for(var a=document.getElementsByClassName("submit"),b=0;b<a.length;++b)a[b].setAttribute("disabled","disabled")},enableSubmit=function(){for(var a=document.getElementsByClassName("submit"),b=0;b<a.length;++b)a[b].removeAttribute("disabled")},UpdateFieldValidationStatus=function(a,b,c,d,e){c?a.parentNode.classList.add(b.empty.class):a.parentNode.classList.remove(b.empty.class),d?a.parentNode.classList.add(b.success.class):a.parentNode.classList.remove(b.success.class),d&&a.classList.add("validated"),e?a.parentNode.classList.add(b.failed.class):a.parentNode.classList.remove(b.failed.class),checkForAllValidated()},empty=function(){},success=function(){},fail=function(){};!function(){validate({})}();