var Config=function(){function e(){}return e.ver=function(){console.log(this.version)},e}();Config.version="0.1.7";var ValidatorConfig=function(){function e(e){this.ValidationSettings={identifier:"",runOnLoad:!0,validateIfHidden:!1,disableSubmit:!0,validateIfEmpty:!0},this.text={checking:{class:"valid-checking",function:""},success:{class:"valid-success",function:""},failed:{class:"valid-failed",function:""},empty:{class:"valid-empty",function:""},matchPattern:/^[A-Za-z]{1,}$/},this.mixedText={checking:{class:"valid-checking",function:""},success:{class:"valid-success",function:""},failed:{class:"valid-failed",function:""},empty:{class:"valid-empty",function:""},matchPattern:/^(.+){1,}$/},this.number={checking:{class:"valid-checking",function:""},success:{class:"valid-success",function:""},failed:{class:"valid-failed",function:""},empty:{class:"valid-empty",function:""},matchPattern:/^[0-9]{1,}$/},this.zipCode={checking:{class:"valid-checking",function:""},success:{class:"valid-success",function:""},failed:{class:"valid-failed",function:""},empty:{class:"valid-empty",function:""},matchPattern:/^[0-9]{5}$/},this.email={checking:{class:"valid-checking",function:""},success:{class:"valid-success",function:""},failed:{class:"valid-failed",function:""},empty:{class:"valid-empty",function:""},matchPattern:/^([a-zA-Z0-9_\-\.]*)@([a-zA-Z0-9_\-]+)\.([a-zA-Z]{2,5})$/},this.ssn={checking:{class:"valid-checking",function:""},success:{class:"valid-success",function:""},failed:{class:"valid-failed",function:""},empty:{class:"valid-empty",function:"",message:"This field must be populated"},matchPattern:/^([0-9]{9,9})$/},this.phone={checking:{class:"valid-checking",function:""},success:{class:"valid-success",function:""},failed:{class:"valid-failed",function:""},empty:{class:"valid-empty",function:""},matchPattern:/^([0-9]{10,10})$/},this.date={checking:{class:"valid-checking",function:""},success:{class:"valid-success",function:""},failed:{class:"valid-failed",function:""},empty:{class:"valid-empty",function:""},matchPattern:/^([0-9]{2,2})\/([0-9]{2,2})\/([0-9]{4,4})$/},this.stateAbbr={checking:{class:"valid-checking",function:""},success:{class:"valid-success",function:""},failed:{class:"valid-failed",function:""},empty:{class:"valid-empty",function:""},matchPattern:/^([A-Z]{2})$/},this.properName={checking:{class:"valid-checking",function:""},success:{class:"valid-success",function:""},failed:{class:"valid-failed",function:""},empty:{class:"valid-empty",function:""},matchPattern:/^[a-zA-Z]+(?:[\s-][a-zA-Z]+)*$/},this.checkbox={checking:{class:"valid-checking",function:""},success:{class:"success",function:""},failed:{class:"failed",function:""},empty:{class:"valid-empty",function:""},minCount:1},this.radioButton={checking:{class:"valid-checking",function:""},success:{class:"success",function:""},failed:{class:"failed",function:""},empty:{class:"valid-empty",function:""},minCount:1},this.dropdown={checking:{class:"valid-checking",function:""},success:{class:"success",function:""},failed:{class:"failed",function:""},empty:{class:"valid-empty",function:""}},this.custom={checking:{class:"valid-checking",function:""},success:{class:"valid-success",function:""},failed:{class:"valid-failed",function:""},empty:{class:"valid-empty",function:""}},"true"===e.runOnLoad?this.ValidationSettings.runOnLoad=!0:"false"===e.runOnLoad&&(this.ValidationSettings.runOnLoad=!1),"true"===e.disableSubmit?this.ValidationSettings.disableSubmit=!0:"false"===e.disableSubmit&&(this.ValidationSettings.disableSubmit=!1),"true"===e.validateIfHidden?this.ValidationSettings.validateIfHidden=!0:"false"===e.validateIfHidden&&(this.ValidationSettings.validateIfHidden=!1),"true"===e.validateIfEmpty?this.ValidationSettings.validateIfEmpty=!0:"false"===e.validateIfEmpty&&(this.ValidationSettings.validateIfEmpty=!1),"true"===e.validateIfEmpty&&(this.ValidationSettings.validateIfEmpty=!0),this.ValidationSettings.identifier=e.identifier||"[data-validate]",e.checkbox&&(e.checkbox.checking&&e.checkbox.checking.class&&(this.checkbox.checking.class=e.checkbox.checking.class),e.checkbox.success&&e.checkbox.success.class&&(this.checkbox.success.class=e.checkbox.success.class),e.checkbox.failed&&e.checkbox.failed.class&&(this.checkbox.failed.class=e.checkbox.failed.class),e.checkbox.empty&&e.checkbox.empty.class&&(this.checkbox.empty.class=e.checkbox.empty.class))}return e}();$.fn.hpsValidate=function(e){this||console.error("Unable to find hpsValidate target");var t=new ValidatorConfig(e||{});"validate"==e?ValidateElement(this[0],t):"update"==e?(AddValidationToElement(this[0],t),checkForAllValidated(this[0],t.ValidationSettings)):(t.ValidationSettings.disableSubmit&&disableSubmit(this[0]),AddValidationToElement(this[0],t))};var ValidateElement=function(e,t){for(var a=t.ValidationSettings.identifier+":not(.do-not-validate)",s=e.querySelectorAll(a),i=0;i<s.length;++i)0==t.ValidationSettings.validateIfHidden&&$(s[0]).is(":hidden")&&s[0].classList.contains("hidden-for-multi"),createValidator(t,s[i],!0)},AddValidationToElement=function(e,t){for(var a=t.ValidationSettings.identifier+":not(.do-not-validate):not(.validate-watching)",s=e.querySelectorAll(a);s.length>0;)0==t.ValidationSettings.validateIfHidden&&$(s[0]).is(":hidden")&&(s[0].classList.contains("hidden-for-multi")||s[0].classList.contains("validate-if-hidden")||(s=e.querySelectorAll(a))),createValidator(t,s[0]),s=e.querySelectorAll(a)},createValidator=function(e,t,a){var s=t.getAttribute("data-validate");switch(s){case"text":case"mixedText":case"number":case"zipCode":case"stateAbbr":case"properName":case"email":case"dropdown":var i=new Validator(e[s],e.ValidationSettings);a?i.validate(t):i.load(t);break;case"ssn":case"phone":case"date":var n=checkForOneOrMultipleFields(t,t.getAttribute("data-validate"),e[s]),i=new Validator(e[s],e.ValidationSettings);a?i.validate(t):i.load(t,n);break;case"checkbox":new CheckBoxValidator(t,e[s],e.ValidationSettings);break;case"radioButton":new RadioButtonValidator(t,e[s],e.ValidationSettings);break;case"custom":var c=t.getAttribute("data-pattern"),l=e[s];l.matchPattern=c;var i=new Validator(l,e.ValidationSettings);a?i.validate(t):i.load(t)}},Validator=function(){function e(e,t){var a=this;this.load=function(e,t){var s=a;a.element=e,t&&(a.altElement=t);var i=a.altElement||a.element;a.container=getParentWrapperElement(i),i.classList.add("validate-watching"),i.addEventListener("keyup",function(){s.validate()}),i.addEventListener("click",function(){s.validate()}),i.addEventListener("change",function(){s.validate()}),a.lblField=getLabelElement(i),a.emptyMsg=i.getAttribute("data-error-empty")||"This field is required",a.failedMsg=i.getAttribute("data-error-failed")||"Please correct this field",a.settings.runOnLoad&&a.validate(),a.rules.keyUp&&i.addEventListener("keyup",function(){s.rules.keyUp(e)})},this.validate=function(e,t){var s=new RegExp(a.rules.matchPattern);e&&(a.element=e),t&&(a.altElement=t);var i=a.altElement||a.element;a.container.classList.add(a.rules.checking.class),($(a.container).is(":visible")||i.classList.contains("validate-if-hidden"))&&(""==i.value&&a.settings.validateIfEmpty?"SELECT"==i.tagName?a.fail():a.empty():""!=i.value&&s.test(i.value)?a.success():a.fail())},this.empty=function(){var e=a.altElement||a.element;a.lblField&&addErrorMessage(a.lblField,a.emptyMsg),e.classList.contains("no-validate-if-empty")?UpdateFieldValidationStatus(e,a.rules,a.settings,!0,!1,!1):(e.setAttribute("data-message",a.rules.empty.message),UpdateFieldValidationStatus(e,a.rules,a.settings,!0,!1,!1))},this.success=function(){var e=a,t=a.altElement||a.element;a.lblField&&addErrorMessage(a.lblField,""),t.removeAttribute("data-message"),UpdateFieldValidationStatus(t,a.rules,a.settings,!1,!0,!1);var s=a.container.querySelectorAll("input");if(s.length>1)for(var i=0;i<s.length;++i)s[i].addEventListener("blur",function(){e.clear()}),s[i].addEventListener("focusout",function(){e.clear()});a.element.addEventListener("blur",function(){e.clear()}),a.element.addEventListener("focusout",function(){e.clear()})},this.fail=function(){var e=a.altElement||a.element;a.lblField&&addErrorMessage(a.lblField,a.failedMsg),e.setAttribute("data-message",a.rules.failed.message),UpdateFieldValidationStatus(e,a.rules,a.settings,!1,!1,!0)},this.clear=function(){a.container.classList.remove(a.rules.success.class),a.altElement&&a.container.classList.remove(a.rules.success.class)},this.rules=e,this.settings=t}return e}(),CheckBoxValidator=function(){function e(e,t,a){var s=this;this.ConfigureSubmitButton=function(){s._settings.disableSubmit&&disableSubmit(s._element),s._getElements()},this._getElements=function(){for(var e=s,t=s._container.querySelectorAll("[type=checkbox]"),a=0;a<t.length;++a)t[a].classList.add("validate-watching"),t[a].addEventListener("change",function(){e._checkIfAnySelected()}),t[a].addEventListener("click",function(){e._checkIfAnySelected()})},this._checkIfAnySelected=function(){for(var e=s._container.querySelectorAll("[type=checkbox]"),t=0;t<e.length;++t)if(e[t].checked)return!0,void s.success();s.fail()},this.empty=function(){s._container.parentNode.classList.remove(s._rules.checking.class),s._container.parentNode.classList.remove(s._rules.success.class),s._container.parentNode.classList.remove(s._rules.failed.class),s._container.parentNode.classList.add(s._rules.empty.class),s._container.classList.remove("validated")},this.success=function(){s._container.parentNode.classList.remove(s._rules.empty.class),s._container.parentNode.classList.remove(s._rules.checking.class),s._container.parentNode.classList.remove(s._rules.failed.class),s._container.parentNode.classList.add(s._rules.success.class);for(var e=s._container.querySelectorAll("[type=checkbox]"),t=0;t<e.length;++t)e[t].classList.add("validated");s._container.classList.add("validated"),checkForAllValidated(s._element,s._settings),document.addEventListener("click",s.clear)},this.fail=function(){s._container.parentNode.classList.add(s._rules.empty.class),s._container.parentNode.classList.remove(s._rules.checking.class),s._container.parentNode.classList.remove(s._rules.success.class);for(var e=s._container.querySelectorAll("[type=checkbox]"),t=0;t<e.length;++t)e[t].classList.remove("validated");s._container.classList.remove("validated"),checkForAllValidated(s._element,s._settings)},this.clear=function(){for(var e=event.target,t=[];e;)t.unshift(e),e=e.parentNode;t.indexOf(s._container)<0&&s._container.parentNode.classList.remove(s._rules.success.class)},this._rules=t,this._settings=a,this._element=e,this._container=getParentWrapperElement(e),this.ConfigureSubmitButton()}return e}(),RadioButtonValidator=function(){function e(e,t,a){var s=this;this.ConfigureSubmitButton=function(){s._settings.disableSubmit&&disableSubmit(s._element),s._getElements()},this._getElements=function(){for(var e=s,t=s._container.querySelectorAll("[type=radio]"),a=0;a<t.length;++a)t[a].classList.add("validate-watching"),t[a].addEventListener("change",function(){e._checkIfAnySelected()}),t[a].addEventListener("click",function(){e._checkIfAnySelected()})},this._checkIfAnySelected=function(){for(var e=s._container.querySelectorAll("[type=radio]"),t=0;t<e.length;++t)if(e[t].checked)return!0,void s.success();s.fail()},this.empty=function(){s._container.parentNode.classList.remove(s._rules.checking.class),s._container.parentNode.classList.remove(s._rules.success.class),s._container.parentNode.classList.remove(s._rules.failed.class),s._container.parentNode.classList.add(s._rules.empty.class),s._container.classList.remove("validated")},this.success=function(){s._container.parentNode.classList.remove(s._rules.empty.class),s._container.parentNode.classList.remove(s._rules.checking.class),s._container.parentNode.classList.remove(s._rules.failed.class),s._container.parentNode.classList.add(s._rules.success.class);for(var e=s._container.querySelectorAll("[type=radio]"),t=0;t<e.length;++t)e[t].classList.add("validated");s._container.classList.add("validated"),checkForAllValidated(s._element,s._settings),document.addEventListener("click",s.clear)},this.fail=function(){s._container.parentNode.classList.add(s._rules.empty.class),s._container.parentNode.classList.remove(s._rules.checking.class),s._container.parentNode.classList.remove(s._rules.success.class),s._container.parentNode.classList.add(s._rules.failed.class);for(var e=s._container.querySelectorAll("[type=radio]"),t=0;t<e.length;++t)e[t].classList.remove("validated");s._container.classList.remove("validated"),checkForAllValidated(s._element,s._settings)},this.clear=function(){for(var e=event.target,t=[];e;)t.unshift(e),e=e.parentNode;t.indexOf(s._container)<0&&s._container.parentNode.classList.remove(s._rules.success.class)},this._rules=t,this._settings=a,this._element=e,this._container=getParentWrapperElement(e),this.ConfigureSubmitButton()}return e}(),addToolTip=function(e){},checkForOneOrMultipleFields=function(e,t,a){if(!e.classList.contains("do-not-validate")){var s=e.parentNode,i=getParentWrapperElement(s),n=i.querySelectorAll("[data-validate]"),c=i.querySelectorAll("[data-validate]").length;if(c>1){var l=document.createElement("input");l.setAttribute("data-validate",t),l.style.display="none",l.classList.add("hidden-for-multi");n[c-1].parentNode.appendChild(l);for(var d=0;d<c;++d)n[d].removeAttribute("data-validate"),n[d].parentNode.classList.remove(a.checking.class),n[d].parentNode.classList.remove(a.success.class),n[d].parentNode.classList.remove(a.failed.class),n[d].classList.add("do-not-validate"),n[d].addEventListener("keyup",function(){concatinateInHiddenField(n,l)});return l}return!1}},guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()},getParentWrapperElement=function(e){var t;if(e.classList.contains("input-wrapper"))return e;for(;e;){if(t=e.parentNode,e.classList.contains("input-wrapper"))return e;e=t}},getParentForm=function(e){var t,a=e;if("FORM"===a.tagName)return a;for(;a;){if(t=a.parentNode,"FORM"===a.tagName)return a;if("BODY"===a.tagName)return e;a=t}},getLabelElement=function(e){for(var t,a=getParentWrapperElement(e);a&&null!=a;){if(t=a.previousElementSibling){if("BODY"===t.tagName)return console.error("No label found for ",e),null;if(t.hasAttribute("data-label"))return t}a=t}},concatinateInHiddenField=function(e,t){for(var a="",s=0;s<e.length;++s)a+=e[s].value;t.value=a,t.click()},checkForAllValidated=function(e,t){for(var a=getParentForm(e),s=a.querySelectorAll(t.identifier),i=0;i<s.length;++i)if(s[i].classList.contains("validated")||s[i].classList.contains("do-not-validate"));else if(jQuery(s[i]).is(":visible")||t.validateIfHidden||s[i].classList.contains("validate-if-hidden")||s[i].hasAttribute("data-always-invalid"))return!1,void(t.disableSubmit&&disableSubmit(e));enableSubmit(e)},disableSubmit=function(e){var t=document;e&&(t=getParentForm(e));for(var a=t.querySelectorAll("[type=submit]"),s=0;s<a.length;++s)jQuery(a[s]).is(":visible")&&a[s].setAttribute("disabled","disabled")},enableSubmit=function(e){for(var t=getParentForm(e),a=t.querySelectorAll("[type=submit]"),s=0;s<a.length;++s)jQuery(a[s]).is(":visible")&&a[s].removeAttribute("disabled")},UpdateFieldValidationStatus=function(e,t,a,s,i,n){var c=getParentWrapperElement(e);c.classList.remove(t.checking.class),i?(e.classList.add("validated"),c.classList.add(t.success.class)):c.classList.remove(t.success.class),s?c.classList.add(t.empty.class):c.classList.remove(t.empty.class),n?c.classList.add(t.failed.class):c.classList.remove(t.failed.class),(s||n)&&e.classList.remove("validated"),checkForAllValidated(e,a)},addErrorMessage=function(e,t){e.setAttribute("data-original-title",t),$(e).tooltip&&$(e).tooltip({placement:"right",trigger:"hover"})},empty=function(){},success=function(){},fail=function(){};